{"version":3,"sources":["components/CheckOutSummary/CheckOutSummary.module.css","containers/CheckOut/ContactData/ContactData.module.css","components/CheckOutSummary/CheckOutSummary.js","containers/CheckOut/ContactData/ContactData.js","containers/CheckOut/CheckOut.js","components/UI/Input/Input.js","components/UI/Input/input.module.css","shared/utility.js"],"names":["module","exports","withRouter","props","className","Css","CheckoutSummary","totalPrice","Burger","ingredients","Button","style","marginTop","clicked","cancellHandler","btnType","continueHandler","ContactData","state","orderForm","name","elementType","elementConfig","type","placeholder","value","validation","required","valid","shouldValid","street","zipCode","minLength","maxLength","country","email","deliveryMethod","options","displayValue","formIsValid","orderHandler","event","preventDefault","formData","Data","data","price","contactData","userId","onSetLoadingIngredientsTrue","onSetProps","history","onSetPropsToDefault","changeHandler","prop","id","updateOrder","updateOrderItem","target","validationHandler","inputIsValid","setState","elementArray","key","this","push","config","form","onSubmit","classes","map","Input","touched","changed","ig","disabled","loading","Spinner","Component","connect","burgerprops","order","auth","Dispatch","actionFuncs","withErrorHandler","axios","CheckOut","loader","goBack","replace","summary","to","ings","path","match","component","input","inputElement","cssClasses","InputElement","Invalid","join","onChange","label","rules","isValid","trim","length"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,gBAAkB,yC,sBCApCD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,MAAQ,2B,iIC0B1DC,eApBS,SAAAC,GAKpB,OACI,sBAAKC,UAAWC,IAAIC,gBAAgB,UAChC,2CAAcH,EAAMI,cACpB,8BACI,cAACC,EAAA,EAAM,CAACC,YAAaN,EAAMM,gBAE/B,cAACC,EAAA,EAAM,CAACC,MAAO,CAAEC,UAAW,QAAUC,QAASV,EAAMW,eAAgBC,QAAQ,SAAQ,qBACrF,cAACL,EAAA,EAAM,CAACC,MAAO,CAAEC,UAAW,QAAUC,QAASV,EAAMa,gBAAiBD,QAAQ,UAAS,wBAOnG,I,iFCfME,EAAW,iKAyIZ,OAzIY,oCACbC,MAAQ,CACJC,UAAW,CACPC,KAAM,CACFC,YAAa,QACbC,cAAe,CACXC,KAAM,OACNC,YAAa,aAEjBC,MAAO,GACPC,WAAY,CACRC,UAAU,GAEdC,OAAO,EACPC,aAAa,GAEjBC,OAAQ,CACJT,YAAa,QACbC,cAAe,CACXC,KAAM,OACNC,YAAa,UAEjBC,MAAO,GACPC,WAAY,CACRC,UAAU,GAEdC,OAAO,EACPC,aAAa,GAEjBE,QAAS,CACLV,YAAa,QACbC,cAAe,CACXC,KAAM,OACNC,YAAa,YAEjBC,MAAO,GACPC,WAAY,CACRC,UAAU,EACVK,UAAW,EACXC,UAAW,GAEfL,OAAO,EACPC,aAAa,GAEjBK,QAAS,CACLb,YAAa,QACbC,cAAe,CACXC,KAAM,OACNC,YAAa,WAEjBC,MAAO,GACPC,WAAY,CACRC,UAAU,GAEdC,OAAO,EACPC,aAAa,GAGjBM,MAAO,CACHd,YAAa,QACbC,cAAe,CACXC,KAAM,QACNC,YAAa,eAEjBC,MAAO,GACPC,WAAY,CACRC,UAAU,GAEdC,OAAO,EACPC,aAAa,GAEjBO,eAAgB,CACZf,YAAa,SACbC,cAAe,CACXe,QAAS,CACL,CAAEZ,MAAO,UAAWa,aAAc,WAClC,CAAEb,MAAO,WAAYa,aAAc,cAG3Cb,MAAO,UACPC,WAAY,CACRC,UAAU,GAEdC,OAAO,EACPC,aAAa,IAGrBU,aAAa,GAEhB,EAIDC,aAAe,SAACC,GACZA,EAAMC,iBACN,IAAIC,EAAW,CAAC,EAChB,IAAK,IAAIC,KAAQ,EAAK1B,MAAMC,UACxBwB,EAASC,GAAQ,EAAK1B,MAAMC,UAAUyB,GAAMnB,MAGhD,IAAMoB,EAAO,CACTpC,YAAa,EAAKN,MAAMM,YACxBqC,MAAO,EAAK3C,MAAMI,WAClBwC,YAAaJ,EACbK,OAAQ,EAAK7C,MAAM6C,QAEvB,EAAK7C,MAAM8C,8BACX,EAAK9C,MAAM+C,WAAWL,EAAK,EAAK1C,MAAMgD,SAC1C,EAAKhD,MAAMiD,qBAYX,EAAC,EACDC,cAAgB,SAACC,EAAMC,GACnB,IAAMC,EAAW,eACV,EAAKtC,MAAMC,WAEZsC,EAAe,eACd,EAAKvC,MAAMC,UAAUoC,IAE5BE,EAAgBhC,MAAQ6B,EAAKI,OAAOjC,MACpCgC,EAAgB7B,MAAQ+B,YAAkBF,EAAgBhC,MAAOgC,EAAgB/B,YACjF+B,EAAgB5B,aAAc,EAC9B2B,EAAYD,GAAME,EAClB,IAAI7B,GAAQ,EACZ,IAAK,IAAIgC,KAAgBJ,EACrB5B,EAAQ4B,EAAYI,GAAchC,OAASA,EAE/C,EAAKiC,SAAS,CAAE1C,UAAWqC,EAAajB,YAAaX,GACzD,EAAC,EAuCA,OAvCA,mCAED,WAAU,IAAD,OAEDkC,EAAe,GACnB,IAAK,IAAIC,KAAOC,KAAK9C,MAAMC,UACvB2C,EAAaG,KAAK,CACdC,OAAQF,KAAK9C,MAAMC,UAAU4C,GAC7BR,GAAIQ,IAIZ,IAAII,EAAO,uBAAMC,SAAUJ,KAAKxB,aAAcpC,UAAWiE,IAAQpD,YAAY,UACzE,yDACC6C,EAAaQ,KAAI,SAAAzB,GACd,OAAO,cAAC0B,EAAA,EAAK,CAETlD,YAAawB,EAAKqB,OAAO7C,YACzBC,cAAeuB,EAAKqB,OAAO5C,cAC3BG,MAAOoB,EAAKqB,OAAOzC,MACnBI,YAAagB,EAAKqB,OAAOxC,WAAWC,SACpC6C,QAAS3B,EAAKqB,OAAOrC,YACrBD,OAAQiB,EAAKqB,OAAOtC,MACpB6C,QAAS,SAACC,GAAE,OAAK,EAAKrB,cAAcqB,EAAI7B,EAAKU,GAAG,GAP3CV,EAAKU,GASlB,IACA,cAAC7C,EAAA,EAAM,CAACK,QAAS,UAAW4D,UAAWX,KAAK9C,MAAMqB,YAAY,sBAQlE,OALIyB,KAAK7D,MAAMyE,UACXT,EAAO,cAACU,EAAA,EAAO,KAKf,8BACMV,GAGd,KAAC,EAhLY,CAASW,aAoMXC,eAhBS,SAAA7D,GACpB,MAAO,CACHT,YAAaS,EAAM8D,YAAYvE,YAC/BF,WAAYW,EAAM8D,YAAYzE,WAC9BqE,QAAS1D,EAAM+D,MAAML,QACrB5B,OAAO9B,EAAMgE,KAAKlC,OAE1B,IAC2B,SAAAmC,GACvB,MAAO,CACHjC,WAAY,SAACL,EAAKoB,GAAI,OAAKkB,EAASC,IAA4BvC,EAAKoB,GAAM,EAC3EhB,4BAA6B,kBAAMkC,EAASC,MAAwC,EACpFhC,oBAAoB,kBAAI+B,EAASC,MAAgC,EAEzE,GAEeL,CAA6CM,YAAiBpE,EAAaqE,MCxMpFC,EAAQ,iKAgBT,OAhBS,oCAEVrE,MAAQ,CAEJsE,QAAQ,GACX,EAKD1E,eAAiB,WACb,EAAKX,MAAMgD,QAAQsC,OAAO,IAC9B,EAAC,EACDzE,gBAAkB,WACd,EAAKb,MAAMgD,QAAQuC,QAAQ,yBAE/B,EAAC,EAoBA,OApBA,mCAED,WACI,IAAIC,EAAU,cAAC,IAAQ,CAACC,GAAG,MAY3B,OAXI5B,KAAK7D,MAAM0F,OACXF,EAAW,gCACN,cAAE,EAAe,CACdpF,WAAYyD,KAAK7D,MAAMI,WACvBE,YAAauD,KAAK7D,MAAM0F,KACxB/E,eAAgBkD,KAAKlD,eACrBE,gBAAiBgD,KAAKhD,kBAE1B,cAAC,IAAK,CAAC8E,KAAM9B,KAAK7D,MAAM4F,MAAMD,KAAO,gBAAiBE,UAAW/E,QAGlE0E,CAKX,KAAC,EApCS,CAASb,aA4CRC,uBANS,SAAA7D,GACpB,MAAO,CACH2E,KAAM3E,EAAM8D,YAAYvE,YACxBF,WAAYW,EAAM8D,YAAYzE,WAEtC,GACewE,CAAyBQ,E,4ECSzBU,IA1DD,SAAA9F,GACV,IAAI+F,EAAe,GACfC,EAAa,CAAC9B,IAAQ+B,cAM1B,OAJIjG,EAAMyB,OAASzB,EAAM0B,aAAe1B,EAAMqE,SAC1C2B,EAAWlC,KAAKI,IAAQgC,SAGpBlG,EAAMkB,aACV,IAAM,QAiCN,QACI6E,EAAe,+CACXvF,MAAOR,EAAMQ,MACbP,UAAW+F,EAAWG,KAAK,MACvBnG,EAAMmB,eAAa,IACvBG,MAAOtB,EAAMsB,MACb8E,SAAUpG,EAAMsE,iBA9BxB,IAAM,WACFyB,EAAe,kDACXvF,MAAOR,EAAMQ,MACbP,UAAW+F,EAAWG,KAAK,MACvBnG,EAAMmB,eAAa,IACvBG,MAAOtB,EAAMsB,MACb8E,SAAUpG,EAAMsE,WACpB,MAEJ,IAAM,SACFyB,EACI,wBACIvF,MAAOR,EAAMQ,MACbP,UAAWiE,IAAQ+B,aACnB3E,MAAOtB,EAAMsB,MACb8E,SAAUpG,EAAMsE,QAAQ,SACvBtE,EAAMmB,cAAce,QAAQiC,KAAI,SAAAzB,GAAI,OACjC,wBAAyBpB,MAAOoB,EAAKpB,MAAM,SACtCoB,EAAKP,cADGO,EAAKpB,MAET,MAc7B,OACI,sBAAKrB,UAAWiE,IAAQE,MAAM,UAC1B,uBAAOnE,UAAWiE,IAAQmC,MAAM,SAAErG,EAAMqG,QACvCN,IAGb,C,qBC1DAlG,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,MAAQ,qBAAqB,aAAe,4BAA4B,QAAU,uB,kCCDjI,kCAAO,IAAM0D,EAAoB,SAAClC,EAAOgF,GACrC,IAAIC,GAAU,EAcd,OAXID,EAAM9E,WACN+E,EAA2B,KAAjBjF,EAAMkF,QAAiBD,GAGjCD,EAAMzE,YACN0E,EAAUjF,EAAMmF,QAAUH,EAAMzE,WAAa0E,GAG7CD,EAAMxE,YACNyE,EAAUjF,EAAMmF,QAAUH,EAAMxE,WAAayE,GAE1CA,CACX,C","file":"static/js/3.782446ba.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"CheckoutSummary\":\"CheckOutSummary_CheckoutSummary__1PA1Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContactData\":\"ContactData_ContactData__cbaUB\",\"Input\":\"ContactData_Input__2sg4R\"};","import React from 'react';\r\nimport Burger from '../Burger/Burger'\r\nimport Button from '../UI/Button/Button'\r\nimport Css from './CheckOutSummary.module.css'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\n\r\nconst CheckOutSummary = props => {\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className={Css.CheckoutSummary}>\r\n            <h1>Price is {props.totalPrice}</h1>\r\n            <div >\r\n                <Burger ingredients={props.ingredients} />\r\n            </div>\r\n            <Button style={{ marginTop: \"3rem\" }} clicked={props.cancellHandler} btnType='Danger'>CANCELL</Button>\r\n            <Button style={{ marginTop: \"3rem\" }} clicked={props.continueHandler} btnType='Success'>CONTINUE</Button>\r\n\r\n        </div>\r\n\r\n\r\n    )\r\n\r\n};\r\nexport default withRouter(CheckOutSummary);","import React, { Component } from \"react\";\r\nimport Button from '../../../components/UI/Button/Button'\r\nimport classes from './ContactData.module.css';\r\nimport axios from '../../../axios'\r\nimport Spinner from '../../../components/UI/Spinner/Spinner'\r\nimport Input from '../../../components/UI/Input/Input'\r\nimport { connect } from 'react-redux'\r\nimport * as actionFuncs from '../../../redux/actions/index';\r\nimport withErrorHandler from '../../../hoc/withErrorHandler/withErrorHandler'\r\nimport {validationHandler} from '../../../shared/utility'\r\n\r\nclass ContactData extends Component {\r\n    state = {\r\n        orderForm: {\r\n            name: {\r\n                elementType: 'input',\r\n                elementConfig: {\r\n                    type: 'text',\r\n                    placeholder: 'Your Name'\r\n                },\r\n                value: '',\r\n                validation: {\r\n                    required: true\r\n                },\r\n                valid: false,\r\n                shouldValid: false\r\n            },\r\n            street: {\r\n                elementType: 'input',\r\n                elementConfig: {\r\n                    type: 'text',\r\n                    placeholder: 'Street'\r\n                },\r\n                value: '',\r\n                validation: {\r\n                    required: true\r\n                },\r\n                valid: false,\r\n                shouldValid: false\r\n            },\r\n            zipCode: {\r\n                elementType: 'input',\r\n                elementConfig: {\r\n                    type: 'text',\r\n                    placeholder: 'ZIP Code'\r\n                },\r\n                value: '',\r\n                validation: {\r\n                    required: true,\r\n                    minLength: 5,\r\n                    maxLength: 5\r\n                },\r\n                valid: false,\r\n                shouldValid: false\r\n            },\r\n            country: {\r\n                elementType: 'input',\r\n                elementConfig: {\r\n                    type: 'text',\r\n                    placeholder: 'Country'\r\n                },\r\n                value: '',\r\n                validation: {\r\n                    required: true\r\n                },\r\n                valid: false,\r\n                shouldValid: false\r\n\r\n            },\r\n            email: {\r\n                elementType: 'input',\r\n                elementConfig: {\r\n                    type: 'email',\r\n                    placeholder: 'Your E-Mail'\r\n                },\r\n                value: '',\r\n                validation: {\r\n                    required: true\r\n                },\r\n                valid: false,\r\n                shouldValid: false\r\n            },\r\n            deliveryMethod: {\r\n                elementType: 'select',\r\n                elementConfig: {\r\n                    options: [\r\n                        { value: 'fastest', displayValue: 'Fastest' },\r\n                        { value: 'cheapest', displayValue: 'Cheapest' }\r\n                    ]\r\n                },\r\n                value: 'fastest',\r\n                validation: {\r\n                    required: true\r\n                },\r\n                valid: true,\r\n                shouldValid: false\r\n            }\r\n        },\r\n        formIsValid: false,\r\n\r\n    }\r\n  \r\n\r\n  \r\n    orderHandler = (event) => {\r\n        event.preventDefault()\r\n        let formData = {}\r\n        for (let Data in this.state.orderForm) {\r\n            formData[Data] = this.state.orderForm[Data].value\r\n        }\r\n\r\n        const data = {\r\n            ingredients: this.props.ingredients,\r\n            price: this.props.totalPrice,\r\n            contactData: formData,\r\n            userId: this.props.userId\r\n        };\r\n        this.props.onSetLoadingIngredientsTrue()\r\n        this.props.onSetProps(data,this.props.history)\r\n    this.props.onSetPropsToDefault()\r\n        // axios.post('/customer', data)\r\n        //     .then(response => {\r\n        //         this.props.history.push('/')\r\n        //         this.setState({ loading: false })\r\n        //         this.props.onPropsToDefault();\r\n        //     })\r\n        //     .catch(err => {\r\n\r\n        //         this.setState({ loading: false })\r\n        //         //     })\r\n        //     })\r\n    }\r\n    changeHandler = (prop, id) => {\r\n        const updateOrder = {\r\n            ...this.state.orderForm\r\n        }\r\n        const updateOrderItem = {\r\n            ...this.state.orderForm[id]\r\n        }\r\n        updateOrderItem.value = prop.target.value;\r\n        updateOrderItem.valid = validationHandler(updateOrderItem.value, updateOrderItem.validation)\r\n        updateOrderItem.shouldValid = true\r\n        updateOrder[id] = updateOrderItem;\r\n        let valid = true\r\n        for (let inputIsValid in updateOrder) {\r\n            valid = updateOrder[inputIsValid].valid && valid\r\n        }\r\n        this.setState({ orderForm: updateOrder, formIsValid: valid })\r\n    }\r\n\r\n    render() {\r\n\r\n        let elementArray = [];\r\n        for (let key in this.state.orderForm) {\r\n            elementArray.push({\r\n                config: this.state.orderForm[key],\r\n                id: key\r\n            });\r\n\r\n        }\r\n        let form = <form onSubmit={this.orderHandler} className={classes.ContactData}>\r\n            <h4>Enter your Contact Data</h4>\r\n            {elementArray.map(data => {\r\n                return <Input\r\n                    key={data.id}\r\n                    elementType={data.config.elementType}\r\n                    elementConfig={data.config.elementConfig}\r\n                    value={data.config.value}\r\n                    shouldValid={data.config.validation.required}\r\n                    touched={data.config.shouldValid}\r\n                    valid={!data.config.valid}\r\n                    changed={(ig) => this.changeHandler(ig, data.id)}\r\n                />\r\n            })}\r\n            <Button btnType={'Success'} disabled={!this.state.formIsValid}>Order</Button>\r\n        </form>\r\n\r\n        if (this.props.loading) {\r\n            form = <Spinner />\r\n        }\r\n\r\n\r\n        return (\r\n            <div>\r\n                { form}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        ingredients: state.burgerprops.ingredients,\r\n        totalPrice: state.burgerprops.totalPrice,\r\n        loading: state.order.loading,\r\n        userId:state.auth.userId\r\n    }\r\n}\r\nconst mapDispatchTpProps = Dispatch => {\r\n    return {\r\n        onSetProps: (data,push) => Dispatch(actionFuncs.saveIngredients(data,push)),\r\n        onSetLoadingIngredientsTrue: () => Dispatch(actionFuncs.setLoadingIngredientsTrue()),\r\n        onSetPropsToDefault:()=>Dispatch(actionFuncs.setPropsToDefault())\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchTpProps)(withErrorHandler(ContactData, axios))","import React, { Component } from \"react\";\r\nimport { Redirect, Route } from 'react-router-dom'\r\nimport CheckOutSummary from '../../components/CheckOutSummary/CheckOutSummary'\r\nimport ContactData from \"./ContactData/ContactData\";\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nclass CheckOut extends Component {\r\n\r\n    state = {\r\n\r\n        loader: false\r\n    }\r\n\r\n\r\n\r\n\r\n    cancellHandler = () => {\r\n        this.props.history.goBack('/')\r\n    }\r\n    continueHandler = () => {\r\n        this.props.history.replace('/checkout/contact-data')\r\n\r\n    }\r\n\r\n    render() {\r\n        let summary = <Redirect to=\"/\" />\r\n        if (this.props.ings) {\r\n            summary = (<div>\r\n                 < CheckOutSummary\r\n                    totalPrice={this.props.totalPrice}\r\n                    ingredients={this.props.ings}\r\n                    cancellHandler={this.cancellHandler}\r\n                    continueHandler={this.continueHandler}\r\n                />\r\n                <Route path={this.props.match.path + '/contact-data'} component={ContactData} />\r\n           </div> )\r\n        }\r\n        return summary\r\n  \r\n                \r\n       \r\n     \r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        ings: state.burgerprops.ingredients,\r\n        totalPrice: state.burgerprops.totalPrice\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(CheckOut)","import React from 'react'\r\nimport classes from './input.module.css'\r\nconst input = props => {\r\n    let inputElement = '';\r\n    let cssClasses = [classes.InputElement]\r\n\r\n    if (props.valid && props.shouldValid && props.touched) {\r\n        cssClasses.push(classes.Invalid);\r\n\r\n    }\r\n    switch (props.elementType) {\r\n        case ('input'): {\r\n            inputElement = <input\r\n                style={props.style}\r\n                className={cssClasses.join(' ')}\r\n                {...props.elementConfig}\r\n                value={props.value}\r\n                onChange={props.changed} />\r\n            break;\r\n        }\r\n        case ('textarea'): {\r\n            inputElement = <textarea\r\n                style={props.style}\r\n                className={cssClasses.join(' ')}\r\n                {...props.elementConfig}\r\n                value={props.value}\r\n                onChange={props.changed} />\r\n            break;\r\n        }\r\n        case ('select'): {\r\n            inputElement = (\r\n                <select\r\n                    style={props.style}\r\n                    className={classes.InputElement}\r\n                    value={props.value}\r\n                    onChange={props.changed} >\r\n                    {props.elementConfig.options.map(data => (\r\n                        <option key={data.value} value={data.value}>\r\n                            {data.displayValue}\r\n                        </option>\r\n                    ))}\r\n                </select>)\r\n            break;\r\n        }\r\n        default: {\r\n            inputElement = <input\r\n                style={props.style}\r\n                className={cssClasses.join(' ')}\r\n                {...props.elementConfig}\r\n                value={props.value}\r\n                onChange={props.changed} />\r\n        }\r\n    }\r\n    return (\r\n        <div className={classes.Input}>\r\n            <label className={classes.label}>{props.label}</label>\r\n            {inputElement}\r\n        </div>\r\n    )\r\n}\r\nexport default input;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"input_Input__3Yvd7\",\"Label\":\"input_Label__yH4Ml\",\"InputElement\":\"input_InputElement__EBur4\",\"Invalid\":\"input_Invalid__rVkWk\"};","export const validationHandler = (value, rules) => {\r\n    let isValid = true;\r\n\r\n\r\n    if (rules.required) {\r\n        isValid = value.trim() !== '' && isValid;\r\n    }\r\n\r\n    if (rules.minLength) {\r\n        isValid = value.length >= rules.minLength && isValid;\r\n    }\r\n\r\n    if (rules.maxLength) {\r\n        isValid = value.length <= rules.maxLength && isValid;\r\n    }\r\n    return isValid;\r\n}"],"sourceRoot":""}